{"tags":[{"name":"Leetcode","permalink":"http://www.smartyi8979.com/tags/Leetcode/","url":"/async/tags/Leetcode.json","count":70},{"name":"算法","permalink":"http://www.smartyi8979.com/tags/算法/","url":"/async/tags/算法.json","count":71}],"categories":[{"name":"技术","permalink":"http://www.smartyi8979.com/categories/技术/","url":"/async/categories/技术.json","count":73}],"url":"/async/posts/2016/03/26/Word-Search.json","date":1458965590000,"path":{"year":2016,"month":3,"day":26,"name":"Word-Search"},"title":"Word Search I&&II","permalink":"http://www.smartyi8979.com/2016/03/26/Word-Search/","content":"<h4 id=\"Problem\"><a href=\"#Problem\" class=\"headerlink\" title=\"Problem\"></a>Problem</h4><p>Given a 2D board and a word, find if the word exists in the grid.<br><a id=\"more\"></a></p>\n<p>The word can be constructed from letters of sequentially adjacent cell, where “adjacent” cells are those horizontally or vertically neighboring. The same letter cell may not be used more than once.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">For example,</span><br><span class=\"line\">Given board =</span><br><span class=\"line\"></span><br><span class=\"line\">[</span><br><span class=\"line\">  [&apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;E&apos;],</span><br><span class=\"line\">  [&apos;S&apos;,&apos;F&apos;,&apos;C&apos;,&apos;S&apos;],</span><br><span class=\"line\">  [&apos;A&apos;,&apos;D&apos;,&apos;E&apos;,&apos;E&apos;]</span><br><span class=\"line\">]</span><br><span class=\"line\">word = &quot;ABCCED&quot;, -&gt; returns true,</span><br><span class=\"line\">word = &quot;SEE&quot;, -&gt; returns true,</span><br><span class=\"line\">word = &quot;ABCB&quot;, -&gt; returns false.</span><br></pre></td></tr></table></figure>\n<h4 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h4><p>这种题目，一看到的第一个念头就是dfs查找，连题目都说了是search嘛。dfs就不多讲，直接上代码。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">exist</span><span class=\"params\">(<span class=\"keyword\">char</span>[][] board, String word)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> ret = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> row = board.length;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> col = board[<span class=\"number\">0</span>].length;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span>[][] visited = <span class=\"keyword\">new</span> <span class=\"keyword\">boolean</span>[row][col];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; row; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>; j &lt; col; j++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (search(i, j, board, visited, word, <span class=\"number\">0</span>)) &#123;</span><br><span class=\"line\">                    ret = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">boolean</span> <span class=\"title\">search</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> y, <span class=\"keyword\">char</span>[][] board, <span class=\"keyword\">boolean</span>[][] visited, String word, <span class=\"keyword\">int</span> start)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//必须先判断是否已经字符串匹配完毕，如果匹配完毕，就返回true。</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (start == word.length()) <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"comment\">//如果还没匹配完但是已经超出边界，返回false。</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (x &lt; <span class=\"number\">0</span> || y &lt; <span class=\"number\">0</span> || x &gt;= board.length || y &gt;= board[<span class=\"number\">0</span>].length) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"comment\">//如果当前字符和当前匹配字符不同，返回false。</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (board[x][y] != word.charAt(start)) <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">boolean</span> ret = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        <span class=\"comment\">//保证只访问一次。</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!visited[x][y]) &#123;</span><br><span class=\"line\">            visited[x][y] = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">            start++;</span><br><span class=\"line\">            ret = search(x + <span class=\"number\">1</span>, y, board, visited, word, start)</span><br><span class=\"line\">                 ||search(x - <span class=\"number\">1</span>, y, board, visited, word, start)</span><br><span class=\"line\">                 ||search(x, y + <span class=\"number\">1</span>, board, visited, word, start)</span><br><span class=\"line\">                 ||search(x, y - <span class=\"number\">1</span>, board, visited, word, start);</span><br><span class=\"line\">            <span class=\"comment\">//backtracking。</span></span><br><span class=\"line\">            visited[x][y] = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"}